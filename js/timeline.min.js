{const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://cdn.jsdelivr.net/gh/sidarilaslan/timeline/css/timeline.min.css"),document.head.appendChild(e)}async function fetchUserData(e){return await fetch(`https://api.github.com/users/${e}`).then((e=>e.json())).then((e=>e))}async function fetchUserEvents(e){return await fetch(`https://api.github.com/users/${e}/events`).then((e=>e.json())).then((e=>e))}function changeTheme(e){const t=document.querySelector(".container");e.addEventListener("change",(()=>{t.classList.toggle("dark-mode")}),{once:!0})}async function setContainerSize(e,t,n){e&&n.style.setProperty("--container-width",e),t&&n.style.setProperty("--colon-height",t)}async function createEventElement(e,t){const n=document.querySelector(".col"),a={year:"numeric",month:"long",day:"numeric"};e.length?e.forEach((e=>{const i=e.org?e.org.avatar_url:e.actor.avatar_url,c=e.repo.name.split("/")[0],s=t.name?t.name:t.login,o=new Date(e.created_at).toLocaleDateString("en-US",a),r=` \n            <div class="row">\n            <div class="image">\n                <img src="${i}" alt="image">\n            </div>\n            <div class="text-container">\n                <div class="user-name">${c}</div>\n                <div class="method">${s} ${e.payload.action?e.payload.action:""}\n                 ${e.type.replace("Event","")}</div>\n                <div class="adress">to:<a href="https://github.com/${e.repo.name}" target="_blank">${e.repo.name}</a>\n                </div>\n            </div>\n            <div class="date">${o}</div>\n        </div>\n        `;n.innerHTML+=r})):n.innerHTML='<div class="not-found">Event Not Found</div>'}async function createFrame(e,t){const n=t.login?t.login:null,a=`\n    <div class="container">\n    <div class="header">\n        <div class="title">\n        ${n?`<a href="https://github.com/${n}" target="_blank">@${n}</a>`:'<a href = "javascript:void(0)"> @UserNotFound</a>'}\n        </div>\n        <div class="weatherMode">\n            <input type="checkbox" class="checkbox" id="checkbox" onclick="changeTheme(this)">\n            <label for="checkbox" class="label">\n                <div class='ball'></div>\n            </label>\n        </div>\n    </div>\n    <div class="col">\n    </div>\n    <div class="footer">\n        Github Timeline\n    </div>\n</div>\n`;e.innerHTML=a}async function createPage(){const e=document.querySelector("._timeline"),t=e.dataset,n=await fetchUserData(t.user),a=await fetchUserEvents(t.user);await setContainerSize(t.width,t.height,e),await createFrame(e,n),await createEventElement(a,n)}document.onload=createPage();
